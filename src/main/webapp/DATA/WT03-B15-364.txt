
<DOC>
<DOCNO>WT03-B15-364</DOCNO>
<DOCOLDNO>IA074-000483-B007-397</DOCOLDNO>
<DOCHDR>
http://acc123.usc.edu:80/Docs/icswg003.html 128.125.48.102 19970125004132 text/html 47425
HTTP/1.1 200 Document follows. 
Server: IBM-Secure-Export-ICS/v970115 Beta
Date: Fri, 24 Jan 1997 21:39:55 GMT
Accept-Ranges: bytes
Content-Type: text/html
Content-Length: 47193
Last-Modified: Wed, 15 Jan 1997 02:01:12 GMT
</DOCHDR>
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<TITLE>Internet Connection Secure Server Webmaster's Guide</TITLE>
<!-- Begin Header Records  ========================================== -->
<!-- ICSWGMST SCRIPT A converted by B2H R2.4 (262) (CMS-OS2) by       -->
<!-- KETRING at RALVM13 on 21 Dec 1996 at 08:27:39                    -->
<META HTTP-EQUIV="security"  CONTENT="public">
<META HTTP-EQUIV="updated"  CONTENT="Sat, 21 Dec 1996 08:21:42">
<META HTTP-EQUIV="review"  CONTENT="2000">
<META HTTP-EQUIV="expires"  CONTENT="2000">
</HEAD><BODY>
<!-- COMPONENT_NAME: web                                             -->        
<!--                                                                 -->        
<!-- FUNCTIONS:                                                      -->        
<!--                                                                 -->        
<!-- ORIGINS:  27                                                    -->        
<!--                                                                 -->        
<!-- (C) COPYRIGHT International Business Machines Corp. 1995, 1997  -->        
<!-- All Rights Reserved                                             -->        
<!-- Licensed Materials - Property of IBM                            -->        
<!--                                                                 -->        
<!-- US Government Users Restricted Rights - Use, duplication or     -->        
<!-- disclosure restricted by GSA ADP Schedule Contract with IBM Corp. -->      
<!--                                                                 -->        
<!-- End Header Records  ============================================ -->
<A NAME=Top_Of_Page>&nbsp;</A>
<HR>
<H1><A NAME="Header_4" HREF="icswgmst.html#ToC_4">Basic Configuration</A></H1>
<HR>
<H1><A NAME="HDRCNF" HREF="icswgmst.html#ToC_5">Changing the default configuration</A></H1>
Changing configurations
<P>
Your server is operational once you install it.
After you have the server installed and running, you will probably
want to change some parts of the
default configuration file to make the server meet your
own particular needs.
<P>
This chapter explains what you can change about your server&#39;s
configuration, as well as how to change these items, by using the
Configuration and Administration forms or by editing the
configuration file.
<P>
<P><A HREF="icswgmst.html#ToC">Partial Table-of-Contents</A>
<MENU>
<LI><A NAME=PToC_6 HREF="#Header_6" >Configuring your server</A>
<MENU>
<LI><A NAME=PToC_7 HREF="#HDRUSING" >Using the Configuration and Administration forms</A>
<LI><A NAME=PToC_8 HREF="#HDREDITI" >Editing the configuration file</A>
</MENU>
<LI><A NAME=PToC_9 HREF="#HDRCONTACC" >Controlling access to the Configuration and Administration forms</A>
<LI><A NAME=PToC_10 HREF="#HDROWNWEL" >Changing the default home page</A>
<MENU>
<LI><A NAME=PToC_11 HREF="#HDRDROOT" >Understanding the document root directory</A>
<LI><A NAME=PToC_12 HREF="#HDRCDOCRT" >Changing your document root directory</A>
<LI><A NAME=PToC_13 HREF="#Header_13" >Understanding the welcome pages</A>
<LI><A NAME=PToC_14 HREF="#HDRXCHP" >Creating your own home page</A>
</MENU>
<LI><A NAME=PToC_15 HREF="#HDRPROXY" >Running your server as a proxy</A>
<MENU>
<LI><A NAME=PToC_16 HREF="#Header_16" >Caching documents on your proxy server</A>
</MENU>
<LI><A NAME=PToC_17 HREF="#Header_17" >Setting up your proxy server</A>
<MENU>
<LI><A NAME=PToC_18 HREF="#HDRCACPS" >Step 1. Configure basic proxy functions</A>
<LI><A NAME=PToC_19 HREF="#Header_19" >Step 2. Configure basic caching functions</A>
<LI><A NAME=PToC_20 HREF="#Header_20" >Step 3. Designate a port number for your proxy server</A>
<LI><A NAME=PToC_21 HREF="#Header_21" >Step 4. Configure advanced proxy functions</A>
<LI><A NAME=PToC_22 HREF="#Header_22" >Step 5. Configure advanced caching functions</A>
<LI><A NAME=PToC_27 HREF="#HDRPROXA" >Step 6. Specify which clients can use the proxy</A>
<LI><A NAME=PToC_28 HREF="#Header_28" >Step 7. Set up a secure connection</A>
</MENU>
<LI><A NAME=PToC_31 HREF="#HDRMULTIIP" >Running your server with multiple IP addresses or virtual hosts</A>
<MENU>
<LI><A NAME=PToC_32 HREF="#Header_32" >Multiple IP addresses</A>
<LI><A NAME=PToC_33 HREF="#Header_33" >Virtual hosts</A>
<LI><A NAME=PToC_34 HREF="#Header_34" >Setting up your server to use multiple IP addresses or virtual hosts</A>
</MENU>
<LI><A NAME=PToC_38 HREF="#Header_38" >Backing up files</A>
</MENU><HR><P>
<P>
<HR>
<H2><A NAME="Header_6" HREF="#PToC_6">Configuring your server</A></H2>
<P>
You can configure your server either by using the
Configuration and Administration forms or by editing the
server&#39;s configuration file.
<P>
<H3><A NAME="HDRUSING" HREF="#PToC_7">Using the Configuration and Administration forms</A></H3>
<P>
The server comes with Configuration and Administration
forms.
These forms are a combination of CGI programs and HTML forms
that provide an easy way for you to configure your server or to
view your server's current configuration settings.
<P>
Once the server is running, you can access the
Configuration and Administration forms
from WebExplorer (or any other Web browser).
The browser can be on the same machine as the server or on any
remote client that has access to the server.
<P>To use the Configuration and Administration forms:
<OL>
<P><LI>
Disable caching on your browser.
Also, if you are configuring your server remotely from a browser
that uses that specific server as its proxy server,
you should disable the proxy server setting on your browser.
<P><LI>
Using your browser, go to the server's Front Page
by typing the following URL:
<PRE>
<B>http://<VAR>your.server.name</VAR>/</B>
</PRE>
<P>where <VAR>your.server.name</VAR> is the fully qualified name
of your host. For example, http://www.ibm.com/
<P><LI>
Click <B>Configuration and Administration Forms</B>.
<P><LI>
If you have not used the Configuration and Administration forms
since starting your browser, you will be prompted for a user name
and password.
<P>
Enter the user name and password you specified in the
<B>Administrator ID</B> and <B>Password</B> fields during
installation.
If you did not change the installation defaults,
the authorized user name is <TT>webadmin</TT> and the authorized
password is <TT>webibm</TT>.
If you did not change the defaults during installation, it is
strongly recommended that you do so now to prevent unauthorized
access to your server configuration.
See <A HREF="#HDRCONTACC">"Controlling access to the Configuration and Administration forms"</A>.
<P>
After you enter an authorized user name and password,
you go to the Configuration and Administration forms page.
<P><LI>
From the Configuration and Administration forms page,
you can link to each of the input forms by clicking
on the form name.
<P>
When you go to a form, it is displayed with
the current configuration values in its input fields.
(If you haven&#39;t changed your configuration since installation,
these are the default values.)
<P><LI>
From any form, enter information about how you want to
configure that particular part of your server.
<P>
Each form provides instructions
to assist you in deciding what changes to make.
For further information, you can click the help icon at
the bottom of each form.
The help icon links you to a help page that
provides detailed steps for using the form to perform
particular tasks.
<P><LI>
After you fill in the form, you must
click <B>Apply</B> to indicate you want to update the server
configuration with the changes you made.
The <B>Apply</B> button is located below the input fields on each
form.
<P>
If you decide you do not want to use the changes you made to the form,
click <B>Reset</B>.
This returns the fields on the form
to the values they had when you first came to the form.
<P><B>Note: </B>A few of the form pages have more than one set of <B>Apply</B>
and <B>Reset</B> buttons.
These pages are actually treated as multiple forms.
If you click <B>Apply</B> or <B>Reset</B>, the action
takes place only for the portion of the page associated with that
set of buttons.
<P><LI>
If you clicked on <B>Apply</B>,
the server shows you a message indicating whether your input was
accepted.
If the input was accepted, you see a Confirmation page that
tells you what configuration directives were updated.
<P>
If the input was not accepted, you see a Configuration Error page
explaining what was wrong with the information you entered.
Go back to the form and try to correct the information.
From the form you may also want to click the help icon at the bottom
of the form.
<P><LI>
If the Confirmation page contains a <B>Restart Server</B> button,
you can click it to have the server restart and begin using
the configuration changes you just made.
<P>
If the Confirmation page does not contain a <B>Restart Server</B>
button, then you need to stop your server and start it again for the
configuration changes you made to take effect.
For instructions on stopping and starting your server,
see <A HREF="icswg004.html#HDRSTR">"Starting and stopping your server"</A>.
</OL>
<P><B>Note: </B>From the Confirmation page or the Restart Confirmation page,
use the <B>Configuration Page</B> button to return to the
Configuration and Administration forms.
<P>
<P>
<H3><A NAME="HDREDITI" HREF="#PToC_8">Editing the configuration file</A></H3>
<P>
The other way to configure your server is
by editing the configuration file.
<P>
By default, the configuration file is named httpd.cnf and
is in the path specified on the SET ETC
statement in your CONFIG.SYS file.
<P>
The configuration file is made up
of statements called <B><I>directives</I></B>.
You change your configuration by editing the configuration file,
updating the directives, and saving your changes.
<P>
When you restart the server, your changes take effect, unless
you changed one of the following directives:
<UL COMPACT>
<LI>Port
<LI>BindSpecific
<LI>SSLClientAuth
<LI>SSLMode
<LI>SSLPort
<LI>NormalMode
<LI>KeyFile
<LI>imbeds
<LI>ServerRoot
</UL>
<P>
If you changed one of the directives in the above list,
you must stop the server and start it again.
For instructions on stopping and starting your server,
see <A HREF="icswg004.html#HDRSTR">"Starting and stopping your server"</A>.
<P>
<A HREF="icswg005.html#HDRCFR">"Using the configuration file"</A> describes each of the configuration file directives.
<HR>
<H2><A NAME="HDRCONTACC" HREF="#PToC_9">Controlling access to the Configuration and Administration forms</A></H2>
<P>
After installation, your server has one authorized user name
and one password that can be used to access the
Configuration and Administration forms.
<P>
You specified the authorized user name and password in the
<B>Administrator ID</B> and <B>Password</B> fields
during installation.
If you did not change the installation defaults,
the authorized user name is <TT>webadmin</TT>
and the authorized password is <TT>webibm</TT>.
<P>
The user name and password are stored in the ADMIN.PWD password file,
which is located in the path specified by the SET ETC statement
in your CONFIG.SYS file.
<P>
If you have not yet changed the default user name or password,
you should do so now to prevent unauthorized access
to the Configuration and Administration forms.
<P>
You can use either the htadm command or the Configuration
and Administration forms to control user names, passwords,
and password files.
<P>
If you just want to change the password for the default user name
with the htadm command, you would enter the following:
<PRE>
<B>
   htadm -passwd <VAR>d&#58;\setetc\</VAR>ADMIN.PWD <VAR>user-name password</VAR>
</B>
</PRE>
<P>
In the above example:
<UL>
<P><LI>
<B><VAR>d&#58;\setetc\</VAR></B> is the path specified
on the SET ETC statement in your CONFIG.SYS file.
<P><LI>
<VAR>user-name</VAR> is the name you entered
for <B>Administrator ID</B> at installation.
The installation default is <TT>webadmin</TT>.
<P><LI>
<VAR>password</VAR> is the new password you want to use.
</UL>
<P>
See <A HREF="icswg015.html#HDRHTADM">"htadm command"</A> for complete
instructions on how to use the htadm command.
<P>
For more information about limiting access to the resources
on your server, see <A HREF="icswg009.html#HDRPRT">"Protecting your server"</A>.
<HR>
<H2><A NAME="HDROWNWEL" HREF="#PToC_10">Changing the default home page</A></H2>
<P>
One of the first configuration tasks you will want to perform is changing
your server so that it returns your own <B><I>home page</I></B>.
The home page is the document that your server returns
when a client sends a request that does not point
to a specific directory or file.
So when a client sends a URL in the format of:
<PRE>
<B>http://<VAR>your.server.name</VAR>/</B>
</PRE>
your server responds by sending back your home page.
When you first start the server,
the server uses the Front Page as your home page
and uses the default configuration file.
<P>
Configuration settings tell your
server where to look for your home page and what its name is.
So that you can understand how this works,
this section contains background information about the
document root directory and the welcome page list.
The section then describes an easy way to create your own home page
and have the server use it instead of the server's Front Page.
<P><B>Note: </B>Some Web browsers use the term "home page" to also refer
to the first page that the browser loads when it is started.
This document uses the term only to refer to the server home page.
<P>
<H3><A NAME="HDRDROOT" HREF="#PToC_11">Understanding the document root directory</A></H3>
<P>
When the server receives requests that do not point to
a specific directory, it tries to serve the request
from the <B><I>document root directory</I></B>.
Because you want your home page to be returned for requests that do
not specify a directory or file name, you need to have your home page
in your document root directory.
<P>
The document root directory is the directory you
specified as your HTML directory during installation.
If you used the installation defaults, the document root directory is
C&#58;\WWW\HTML.
<P>
<P>
<H3><A NAME="HDRCDOCRT" HREF="#PToC_12">Changing your document root directory</A></H3>
<P>
At some point you may decide to change the directory your server
uses for its document root directory.
<P>
For example, you might want to change your document root directory
if you are creating a new set of HTML documents for your server to use.
While you are creating the new documents,
you might want to keep them on a directory not accessible to the server.
<P>
Follow these steps to change your document root directory:
<OL>
<P><LI>From the Configuration and Administration forms page,
click <B>Request Routing</B>.
(If you're not sure how to access the Forms, see <A HREF="#HDRUSING">"Using the Configuration and Administration forms"</A>.)
<P><LI>On the Request Routing form, select the <B>Replace</B> button.
<P><LI>Change the <B>Index</B> field to the number
of the Pass rule that has /* as its URL request template.
<P><LI>Change the <B>Action</B> field to <B>Pass</B>.
<P><LI>Enter <B>/*</B> in the <B>URL request template</B> field.
<P><LI>Enter your new document root directory in the
<B>Replacement file path</B> field.
<P><LI>Click <B>Apply</B>.
<P><LI>From the Confirmation page, click <B>Restart Server</B>.
<P>After restarting, the server begins to use the new document root
directory.
</OL>
<P>
So now you know where your server looks for your home page,
but how does it know which file to return?
This is defined by the list of welcome pages.
<P>
<H3><A NAME="Header_13" HREF="#PToC_13">Understanding the welcome pages</A></H3>
<P>
The server&#39;s configuration defines a list of file names
that the server can use as <B><I>welcome pages</I></B>.
These are the files the server looks for when it
receives URL requests that do not specify a file name.
<P>
For requests that do not specify either a directory or file name,
you want the server to return your home page.
As described in the previous section, the server looks for your
home page on the document root directory.
It then determines which file contains your home page by matching the
list of welcome pages to the files in the directory.
The first match it finds is the file it returns as your home page.
<P>
The default configuration file defines a list of four welcome pages.
The order of the welcome pages is important because the
server goes down the list from top to bottom when looking for
the file it should return.
<P>
The default welcome page file names and their default order are:
<OL COMPACT>
<LI>Welcome.html
<LI>welcome.html
<LI>index.html
<LI>Frntpage.html
</OL>
<P>
The server returns the first file it finds that matches a file name
in the list.
Until you create a Welcome.html, welcome.html, or index.html file
and place the file in the document root directory,
the server uses Frntpage.html as your home page.
<P>
For example, if you are using the default configuration and your
document root directory does not contain a file named Welcome.html,
or welcome.html, but does contain files named index.html and Frntpage.html,
the index.html file is used as your home page.
<P>
For more information on welcome pages and how they are used
by directories other than the document root directory,
see <A HREF="icswg005.html#HDRDIREC">"Directories and Welcome Page - Set viewing options"</A>.
<P>
The easiest way to have your server start returning your own
home page is to create the page in a file named Welcome.html
and store the file on your document root directory.
The next section explains how to do this.
<P>
<H3><A NAME="HDRXCHP" HREF="#PToC_14">Creating your own home page</A></H3>
<P>
You can use any HTML document for your home page.
<P>
If you already have a document you want to use as your home page,
just copy it into your document root directory and rename it to
Welcome.html, welcome.html, or index.html.
<P>
If you want to create a new home page and have your server start using
it, you can use the following procedure:
<OL>
<P><LI>Using your browser, go to the server's Front Page
by typing the following URL:
<PRE>
<B>http://<VAR>your.server.name</VAR>/</B>
</PRE>
<P>where <VAR>your.server.name</VAR> is
the fully qualified name of your host.
For example, http://www.ibm.com/.
<P><LI>Click <B>Sample Home Page</B>.
<P><LI>From WebExplorer select <B>Save as</B> from the <B>File</B>
pull-down menu on the menu bar.
(Most other browsers provide a similar function.)
<P><LI>Save the file with a name of
Welcome.html and put it in the document root directory.
Your home page must be placed in your root directory
since this is the directory your server uses to serve
requests that do not point to a specific directory.
<P><LI>
Use your choice of editors to edit the new Welcome.html file
and turn it into your own home page masterpiece.
</OL>
<P>
Need some help with HTML?
Depending upon your current level of expertise with HTML, there
are many sources of information available.
<UL>
<P><LI>The Internet Connection Family Home Page, which is a link from
the server's front page, allows you to download beta code,
as well as giveaways, retail products, and accessory products.
<P><LI>
A fun and easy way to learn about HTML and generate ideas
for your own home page is to go surfing on the Web.
Find some pages you like and use your browser to
view the HTML markup that makes them work.
<P><LI>Many samples are available in BonusPak and BonusPak II.
</UL>
<P>
You can write your HTML documents using any editor capable
of producing flat text files.
However, if you use a plain text editor
you will have to key in each of the HTML tags.
There are several editors and related tools designed specifically to
help users create HTML documents without having to key in all the
surrounding tags.
<P>
For example, non-commercial users can get a free copy of
an editor called HoTMetaL Free from SoftQuad.
Go to the following URL for instructions on how to get HoTMetaL Free:
<PRE>
<B>http://www.sq.com/products/hotmetal/hm-ftp.htm</B>
</PRE>
<P>
When you have documents ready that you want to show the world, you
can start to register your server with various databases.
For example, the following URLs take you to sites where you can
register your server:
<PRE>
<B>http://www.w3.org/hypertext/DataSources/WWW/Geographical_
generation/new-servers.html</B>
</PRE>
<P><P><B>Note: </B>
The URL above is shown on two lines only because of its length.
When entering the URL on your browser, type one continuous string with
no spaces.
<PRE>
<B>http://www.yahoo.com/</B>
<B>http://www.lycos.com/</B>
</PRE>
<P>Each of the two URLs shown above contains links to
a form you can use to register your server.
<HR>
<H2><A NAME="HDRPROXY" HREF="#PToC_15">Running your server as a proxy</A></H2>
<P>
Clients connected to a <B><I>proxy server</I></B> can ask
the server to retrieve documents for them from other servers.
<P>
You can also set up a
<B><I>firewall machine</I></B>,
such as the IBM Internet Connection Secured Network Gateway.
A firewall machine is connected to both your
internal network, or intranet, and the external Internet.
Users of the intranet are inside the firewall.
The firewall machine can be set up to prevent external machines
from reaching your intranet.
<P>
Two types of proxy/firewall configurations are available:
<OL>
<P><LI>A proxy server can link to a firewall machine that has a socks
server in it.
The proxy server is chained to the socks server in the firewall machine
and the firewall machine links
to the Internet, as shown in <A HREF="#FIGSOCKPRO">Figure 1</A>.
This kind of proxy server, also known as a <B><I>socksified proxy</I></B>,
allows users within your intranet to access the Internet.
<P><B><A NAME="FIGSOCKPRO">Figure 1. Socksified proxy server and a firewall</A></B><BR>
<P><BR>
<B><BR><IMG SRC="icsl0px2.gif" ALT="* Figure icsl0px2 not displayed."><BR></B><BR>
<P>
<P><LI>One machine can contain both the firewall and the proxy server
as shown in <A HREF="#FIGSECGWAY">Figure 2</A>.
For this kind of configuration, you can use the
IBM Internet Connection Secure Server for AIX for your proxy and the
IBM Internet Connection Secured Network Gateway for AIX as
your firewall.
<P><B><A NAME="FIGSECGWAY">Figure 2. Machine with both a firewall and proxy server</A></B><BR>
<P><BR>
<B><BR><IMG SRC="icsl0px1.gif" ALT="* Figure icsl0px1 not displayed."><BR></B><BR>
<P>
</OL>
<P>
<H3><A NAME="Header_16" HREF="#PToC_16">Caching documents on your proxy server</A></H3>
<P>
You can also use <B><I>caching</I></B>
to have the proxy server store the documents
it retrieves from other servers in a local cache.
The server can then respond to subsequent requests for the
same documents without having to retrieve them from other servers.
This can improve response time.
<P>
Within an intranet you may want to set up
a server as a caching proxy to
reduce the amount of traffic on the network.
In large networks you can connect a hierarchy of caching proxies.
A client request cascades up through the hierarchy of servers
until the document is retrieved from a server&#39;s cache
or from the actual server where the document resides.
<HR>
<H2><A NAME="Header_17" HREF="#PToC_17">Setting up your proxy server</A></H2>
<P>
To set up a proxy, you need to:
<UL>
<P><LI>Configure basic proxy functions
<P><LI>Optionally, configure basic caching functions
<P><LI>Optionally, designate a port number for your proxy
<P><LI>Optionally, configure advanced proxy functions
<P><LI>Optionally, configure advanced caching functions
<P><LI>Specify which clients can use the proxy
<P><LI>Set up a secure connection
</UL>
<P>
After you've configured your proxy server, tell your users so they
can configure their browsers to point to it.
<P>
<H3><A NAME="HDRCACPS" HREF="#PToC_18">Step 1. Configure basic proxy functions</A></H3>
<P>
To configure your server
as a proxy, specify which protocols
you want the server to act as a proxy for.
You do this by one of two methods:
<UL>
<P><LI>Filling in the Proxy Server Settings form
for the protocols this server will function as a proxy for
<P><LI>Adding Pass rules for the protocols
to your server's list of mapping rules
</UL>
<P>
Either method enables your server to act as a proxy.
<P>To fill in the form:
<OL>
<P><LI>From the Configuration and Administration forms page,
under the heading "Proxy Settings", click
<B>Proxy Server Settings</B>
to display the Proxy Server Settings form.
<P><LI>Select the protocols that the server will act as a proxy for.
(Checking a selection box generates a Pass rule for the protocol
checked.)
<P><LI>You should accept the default size specified for the Proxy
buffer size.
<P><LI>If you want your server to be a socksified proxy server, you need
to specify the host name or IP
address of the socks server through which this proxy server will be
passing requests.
<P>
When you specify a socks server on this form, you indicate that
you want this proxy server to be chained to a socks server.
<P><LI>Click <B>Apply</B>.
<P>
Once the changes take effect, your server runs as a proxy.
<P>
<P><LI>To socksify the proxy, you also need to
set the SOCKS_NS environment variable for the user
</OL>
<P>
<H3><A NAME="Header_19" HREF="#PToC_19">Step 2. Configure basic caching functions</A></H3>
<P>
Perform this step if you want
to make your proxy server a caching proxy server.
<OL>
<P><LI>From the Configuration and Administration forms page,
click <B>Caching Settings</B>.
<P><LI>
From the Caching Settings form,
check the <B>Enable proxy caching</B> box.
<P><LI>
If you have more than 5 megabytes of
disk space to use for caching files,
change the <B>Cache size</B> field to a larger number.
<P><LI>
In the <B>Root directory for cached files</B> field, enter the
absolute path name of the directory where you want to keep cached files.
Make sure the directory you specify has at least
as much disk space available
as you enter for <B>Cache size</B>.
<P><LI>
In the <B>File name in which to log cache access</B> field,
enter the absolute path and file name of the file you want
to use for logging cache access.
<P><LI>For the upper size limits for files to be cached, the value you
specify indicates that any file bigger than that value is not cached.
<P><LI>Specify a size for the lower file limit.
This limit indicates the minimum file size a file has to be before
file size is taken into account when doing garbage collection.
The more the size of the file is above this limit, the more likely it is
to be removed during garbage collection.
<P><LI>
Click <B>Apply</B>.
<P><LI>Restart your server so your changes will take effect.
See <A HREF="icswg004.html#HDRSTR">"Starting and stopping your server"</A> for more information on starting and restarting.
</OL>
<P>
<H3><A NAME="Header_20" HREF="#PToC_20">Step 3. Designate a port number for your proxy server</A></H3>
<P>
Perform this step only if you want your proxy server to listen
to a port number other than the HTTP default of 80.
<OL>
<P><LI>
From the Configuration and Administration forms page,
click <B>Basic</B>.
<P><LI>
Change the <B>Default port number</B> field
to the port you want the proxy to listen to.
The default value for this field is 80.
Some other commonly used port numbers
for proxy servers are 8080 and 8008.
<P><LI>
Click <B>Apply</B>.
<P><LI>Restart your server so your changes will take effect.
See <A HREF="icswg004.html#HDRSTR">"Starting and stopping your server"</A> for more information on starting and restarting.
</OL>
<P>
<H3><A NAME="Header_21" HREF="#PToC_21">Step 4. Configure advanced proxy functions</A></H3>
<P>
You can specify that certain protocol requests are routed to another
proxy server.
This allows you to chain together a hierarchy of proxy servers.
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Proxy Chaining and Non-Proxy Domains</B>.
<P><LI>In the Proxy chaining section, select the <B>Insert before</B>
button.
<P><LI>From the selection list, select the protocol you are specifying a
URL for.
<P><LI>In the URL field, type the URL where you want requests for that
protocol to be directed.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
If you've set up a hierarchy of proxies, you can
specify any domain names the proxy can get to
directly rather than going to the next proxy in the hierarchy.
These are called non-proxy domains.
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Proxy Chaining and Non-Proxy Domains</B>.
<P><LI>In the Non-proxy domains section in the non-proxy domains field,
type the name of the domain or domains to which requests should be
passed without going through the next proxy in the hierarchy.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
<H3><A NAME="Header_22" HREF="#PToC_22">Step 5. Configure advanced caching functions</A></H3>
Several other functions are available to help you control the caching
functions.
You can control:
<UL>
<P><LI>How long HTTP and FTP files are cached
<P><LI>How often the cache is cleaned
<P><LI>How expired files are removed from the cache
<P><LI>Which files you want your server to cache
</UL>
<P>
<H4><A NAME="Header_23">Controlling how long HTTP files are cached</A></H4>
<P>
To control how long HTTP or HTTPS files are kept in the cache
after they are last used, do the following:
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Time Limit for Unused Cached HTTP Files</B>.
<P><LI>Specify the amount of time in months, days, weeks, or hours that
you want the server to keep unused cached HTTP files.
<P><LI>Specify the amount of time in months, days, weeks, or hours that
you want the server to keep unused cached HTTPS (SSL) files.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
<H4><A NAME="Header_24">Controlling how often the cache is cleaned</A></H4>
<P>
To control how long FTP files are kept in the cache and how long to
keep unused FTP files in the cache, do the following:
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Expiration Settings for Cached FTP Files</B>.
<P><LI>For the default expiration time, specify the amount of time
(in months, days, weeks, or hours) to
keep FTP files in the cache, regardless of whether they are used.
<P><LI>For the unused expiration time, specify the amount of time
(in months, days, weeks, or hours) to
keep unused FTP files in the cache.
In general, unused expiration time should be lower than
default expiration time.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
<H4><A NAME="Header_25">Controlling how expired files are removed from the cache</A></H4>
<P>
To specify how you want expired files removed from the cache,
do the following:
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Cache Storage Reuse</B>.
<P><LI>The box to enable storage reclamation is checked.
Delete the check, if you do not want to enable garbage collection.
<P><LI>Specify the maximum memory (in kilobytes)
available for garbage collection.
The process works best if it can read all cache information
into memory at one time.
The amount of memory needed will vary based on dynamic changes such
as the directory structure of cached files.
If garbage collection fails because there is not enough memory
on your system, set this field to a smaller value.
If you have plenty of memory to spare, you may want to set this value
above the default of 500.
<P><LI>Specify the time you want garbage collection to occur.
Select a time when the server won't be busy.  Garbage collection
consumes system resources, and the cache is disabled when
garbage collection is being done.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
<H4><A NAME="Header_26">Controlling which files you want your server to cache</A></H4>
<P>
To specify which files you want your server to consider for
caching,
you can create a list of URLs you do want to cache or
a list of URLs you do want not to cache.
If you do not create either of these lists,
any file is a candidate for caching.
The server considers
files for caching if the request is a GET, the URL does not
contain a question mark (?), and the requested file is not
protected by a user ID/password.
<OL>
<P><LI>From the Configuration and Administration forms page, click
<B>Caching Filters</B>.
<P><LI>Click <B>Add</B>.
<P><LI>Click either <B>Cache the URL requests listed below</B> or
<B>Do not cache the URL requests listed below</B>.
<P><LI>Type in the list of URLs.
<P><LI>Click <B>Apply</B>.
</OL>
<P>
<H3><A NAME="HDRPROXA" HREF="#PToC_27">Step 6. Specify which clients can use the proxy</A></H3>
<P>
You can use the server&#39;s protection function to control
which clients can use your server as a proxy.
<P>
The default configuration file contains commented lines that
you can use as a basis for controlling access to your proxy.
For this reason, it is easier to accomplish this task by editing
the configuration file than by using the Configuration and
Administration forms.
<P>
Follow these steps to define which clients
can use your server as a proxy:
<OL>
<P><LI>
Use the text editor of your choice to open the configuration file.
<P>
By default, the configuration file is named httpd.cnf and
is in the path specified on the SET ETC
statement in your CONFIG.SYS file.
<P><LI>
Find the following commented Protection and Protect directives:
<PRE>
# Protection PROXY-PROT {
#       ServerId        YourProxyName
#       Mask            @(*.ibm.com, 128.141.*.*, *.ncsa.uiuc.edu)
# }
# Protect  http&#58;*    PROXY-PROT
# Protect  ftp&#58;*     PROXY-PROT
# Protect  gopher&#58;*  PROXY-PROT
# Protect  https&#58;*   PROXY-PROT
# Protect  wais&#58;*    PROXY-PROT
# Protect  news&#58;*    PROXY-PROT
</PRE>
The Protect statement for https is in the configuration
file.
<P><LI>
Remove the comment character (#) from each of the lines.
<P><LI>
Change the Mask subdirective so that it contains templates
for the host names or IP addresses of the clients
that need to use your server as a proxy.
<P>In order to use host name templates,
you must set the DNS-Lookup directive to <TT>On</TT>.
If the DNS-Lookup directive is set to <TT>Off</TT> (the default),
you can use IP address templates only.
See <A HREF="icswg005.html#HDRDNSLOOK">"DNS-Lookup - Specify whether you want to look up host names of clients"</A>.
<P>
<P>The Internet Connection Secure Server distinguishes between a user ID and password
used for authentication at the proxy server and those used
for authentication at the end-point server.
<P>
When a user ID is specified in the protection mask for a proxy request,
the proxy server requires the browser to send a PROXY-AUTHENTICATE
header.
If the header is missing or incorrect, the proxy server
sends a message (HTTP 407 error status) back to the browser
stating that proxy authentication is required.
<P>If request authentication is required at the end-point server,
that server sends back a message (HTTP 401 error status) stating
that authentication is required.
The end-point server's error
message is returned to the browser by the proxy server.
A WWW-AUTHENTICATE header sent by the browser is forwarded by the
proxy server to the end-point server.
<P>PROXY-AUTHENTICATE headers are never forwarded by a proxy server;
this ensures that validated proxy user IDs and passwords are not
sent to servers that they are not intended for.
<P><B>Note: </B>Web browsers must also support proxy authentication if you
require user ID authentication in your proxy protection setup mask.
<P><LI>
Save the configuration file with the changes you make.
<P><LI>
Restart the server.
<P>
The server will now act as a proxy only for clients and requests
that meet the specifications on the mask subdirectives.
</OL>
<P>
<H3><A NAME="Header_28" HREF="#PToC_28">Step 7. Set up a secure connection</A></H3>
<P>
If you are using SSL, the kind of connection between the client
and the proxy and between the proxy and the destination server
can vary depending on whether the client uses SSL tunneling.
<P>
<H4><A NAME="Header_29">Connections with SSL tunneling</A></H4>
<P>
Some clients, such as Netscape Navigator,
use SSL tunneling to establish
a secure connection to a destination server
through a proxy.
The proxy can be a base or secure server.
<P>
Because SSL tunneling is generic, it can be
used to access resources on different ports.
For example, the Internet Connection Secure Server uses port 443 for <B>https</B>
requests and Netscape uses port 563 for SNEWS (Secure News).
<P>
To set up a proxy for SSL tunneling:
<OL>
<P><LI>Enable the CONNECT method.
You can use the Method Enablement
form or code the following directive in the proxy's configuration
file:
<PRE>
Enable CONNECT
</PRE>
<P><LI>
Specify a Pass rule for each port connected to
a destination server.
You can use the Request Routing form or code the following
in the proxy's configuration file.
<P>
<B>Examples</B>:
<UL>
<P><LI>For <B>https</B> requests, specify <TT>Pass *:443</TT>
<P><LI>For SNEWS (Secure News), specify <TT>Pass *:563</TT>
</UL>
<P><LI>Have clients set their security proxy in Netscape Navigator
to point to port 80.
</OL>
<P>
<H4><A NAME="Header_30">Connections without SSL tunneling</A></H4>
<P>
Secure WebExplorer does not use SSL tunneling.
You need Pass directives defined
for <B>https</B> and <B>http</B> requests.
<P>
Here's how the connection from a Secure WebExplorer client
to a destination server through a proxy is handled:
<UL>
<P><LI>The kind of connection between the client and the proxy is governed
by the proxy protocol.
If the proxy protocol is <B>https</B>, then
the connection between the client and the proxy will be secure.
If the proxy protocol is <B>http</B>, then
the connection between the client and the proxy will not be secure.
<P><LI>The kind of connection from the proxy to the server is governed
by what is specified in the URL.
If the URL specifies <B>https</B>, the
connection between the proxy and the server will be secure.
If the URL specifies <B>http</B>, the connection
between the proxy and
the server will not be secure.
<P><LI>The lock will be displayed on Secure WebExplorer if the URL specifies
<B>https</B>.
This means, at minimum, there is a secure network connection between the
proxy and the server.
There will also be a secure network connection between the client and the
proxy if the proxy protocol is <B>https</B>.
<P>
The server's certificate will not be displayed on Secure WebExplorer if the
URL specifies <B>https</B>.
</UL>
<HR>
<H2><A NAME="HDRMULTIIP" HREF="#PToC_31">Running your server with multiple IP addresses or virtual hosts</A></H2>
<P>
You may want to use one server to provide Web sites for multiple
customers.  For example, you might have
two customers (customerA and customerB), both of whom want to make
information about their companies available on the World Wide Web.
You might want to put both Web sites on the same machine
if the expected number of requests for the information
is not great enough to justify a separate machine
for each customer.
<P>
With the Internet Connection Secure Server, you can use multiple IP addresses, virtual
hosts, or both to provide multiple Web sites on one server.
<P>
<H3><A NAME="Header_32" HREF="#PToC_32">Multiple IP addresses</A></H3>
<P>
To use multiple IP addresses,
your server must be installed on a machine
with multiple network connections.
<P>
If you have only one network connection and
run two instances of the server on the same machine, then only
one server has the benefit of using the default port number.
Requests to the other server would have to include a port number.
<P>
If your machine has two network connections,
you can run just one instance of the server and
assign each customer to a different IP address.
For each IP address you would define a different host name.
So customerA could be www.customerA.com on IP address 9.67.106.79 and
customerB could be www.customerB.org on IP address 9.83.100.45.
You could then configure the server to serve a different set
of information depending on the IP address the request comes in on.
Because the server can accept requests from the default port of
each network connection, requests to either host name would not require
a port number.
<P>
<H3><A NAME="Header_33" HREF="#PToC_33">Virtual hosts</A></H3>
<P>
With virtual hosts, no additional hardware is required, and you can
save IP addresses.
However, clients must support HTTP 1.1 or HTTP 1.0 with
1.1 Extensions.
<P>
With virtual hosts, you can run just one instance of the server and
assign each customer to a different host.
In the domain name server, you define your hosts and associate
them with the IP address of your server.
You can then configure the server to serve a different set
of information depending on the host for which the request is made.
Requests do not require a port number.
<P>
<H3><A NAME="Header_34" HREF="#PToC_34">Setting up your server to use multiple IP addresses or virtual hosts</A></H3>
<P>
Setting up your server to use multiple IP addresses or virtual hosts
is very similar.
For multiple IP addresses, you'll need to specify the IP address
a request comes in on and for virtual hosts, you'll need to specify
the host name for which a request is made.
<P>
You configure the server to serve different information for
each customer by indicating that certain parts of your configuration
apply only to requests coming in on certain addresses or for
certain hosts.
You can configure three key parts of your server
so that requests are processed differently
based on the IP address they come in on or the host name in the URL.
<UL COMPACT>
<LI>Welcome pages
<LI>Mapping rules
<LI>Access control
</UL>
<P>
<H4><A NAME="Header_35">Welcome pages</A></H4>
<P>
You can specify a different set of file names to use as welcome
pages depending on the address a request comes in on or the host name
in the URL.
The file names you define as welcome pages determine
how the server responds to requests that do not
contain a file name.
<P>
For example, you might want to specify that homeA.html
is a welcome page only for requests received on 9.67.106.79 or
for hostA,
and homeB.html is a welcome page only for requests received on
an address 9.83.100.45 or for hostB.
<P>
From the Configuration and Administration forms page,
you can configure your list of welcome pages
by clicking on <B>Initial Page</B>.
From the Initial Page form, click the help icon for information
on defining welcome pages and how to associate a
welcome page file name with an IP address or a host name.
<P>
Alternatively, if you are editing the configuration file,
you can add an <VAR>IP-address</VAR> or <VAR>hostname</VAR>
at the end of a Welcome directive to associate a
welcome page file name with an IP address or a host name.
For details, see the description of the Welcome directive
in <A HREF="icswg005.html#HDRDIREC">"Directories and Welcome Page - Set viewing options"</A>.
<P>
<H4><A NAME="Header_36">Mapping rules</A></H4>
<P>
You can specify a different set of mapping rules for the
server to use depending on the address a request comes in on or
the host name in a URL.
Mapping rules map a request to a physical file on the server
and determine whether the server processes a request.
<P>
For example, you might want to specify that a
request beginning /cgi-bin/ received on address
9.67.106.79 or for hostA is mapped to the /customerA/cgi/ directory,
and the same request received on 9.83.100.45 or for hostB
is mapped to the /customerB/cgi/ directory.
<P>
From the Configuration and Administration forms page,
you can configure your mapping rules
by clicking on <B>Request Routing</B>.
From the Request Routing form, click the help icon for information
on how to use mapping rules and how to associate a
mapping rule with an IP address or a host name.
<P>
Alternatively, if you are editing the configuration file,
you can add an <VAR>IP-address</VAR> or <VAR>hostname</VAR>
at the end of Exec, Fail, Map, Pass, and Redirect
directives to associate the directive
with an IP address or a host name.
For details, see the description of these directives
in <A HREF="icswg005.html#HDRMAPPI">"Resource mapping - Redirect URLs"</A>.
<P>
<H4><A NAME="Header_37">Access Control</A></H4>
<P>
You can activate different protection rules
for a request based on the address the request comes in on or the
host name in a URL.
Protection rules are defined in protection setups and
determine how your server controls access to
files and programs.
<P>
For example, you might want to specify that a
request beginning /cgi-bin/ received on address
9.67.106.79 or for hostA is protected by the rules in a
protection setup named PROT-A and the
same request received on 9.83.100.45 or for hostB
is protected by the rules in a protection setup named PROT-B.
<P>
From the Configuration and Administration forms page,
you can configure how protection is activated
by clicking on <B>Document Protection</B>.
From the Document Protection form, click the help icon
for information on protecting documents and how to associate
protection with an IP address or a host name.
<P>
Alternatively, if you are editing the configuration file,
you can add an <VAR>IP-address</VAR> or <VAR>hostname</VAR>
at the end of DefProt and Protect directives to associate
the directive with an IP address or a host name.
For details, see the description of these directives
in <A HREF="icswg005.html#HDRDOCUM">"Access control - Set up access control for the server"</A>.
<HR>
<H2><A NAME="Header_38" HREF="#PToC_38">Backing up files</A></H2>
<P>
It is recommended that you periodically back up the following files:
<UL>
<P><LI>Configuration files (httpd.conf, ics_pics.conf)
<P><LI>Password files
<P><LI>Group files
<P><LI>ACL files
<P><LI>Content files
</UL>
<P>
For a secure server, you should also back up:
<UL>
<P><LI>Key ring files
<P><LI>Signed certificates and, optionally, certificate requests
</UL>
<P><HR><B>&#91; <A HREF="#Top_Of_Page">Top of Page</A> &#124; <A HREF="icswg002.html">Previous Page</A> &#124; <A HREF="icswg004.html">Next Page</A> &#124; <A HREF="icswgmst.html#ToC">Table of Contents</A> &#93;</B>
<A NAME=Bot_Of_Page>&nbsp;</A>
</BODY></HTML>

</DOC>